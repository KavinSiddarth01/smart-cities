<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Urban Intelligence - Smart Cities Platform</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen" class="loading-screen">
        <div class="loading-content">
            <div class="skyline">
                <div class="building" style="--height: 40px;"></div>
                <div class="building" style="--height: 60px;"></div>
                <div class="building" style="--height: 35px;"></div>
                <div class="building" style="--height: 50px;"></div>
                <div class="building" style="--height: 70px;"></div>
                <div class="building" style="--height: 45px;"></div>
                <div class="building" style="--height: 55px;"></div>
                <div class="building" style="--height: 40px;"></div>
            </div>
            
            <div class="loading-logo">
                <div class="logo-icon">
                    <div class="spinner"></div>
                </div>
                <h1>Urban Intelligence</h1>
                <p style="color: #bfdbfe; font-size: 0.875rem;">Smart Cities & Public Safety Platform</p>
            </div>
            
            <div class="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p id="progress-text" style="color: #bfdbfe; font-size: 0.875rem;">Initializing city systems... 0%</p>
            </div>
        </div>
    </div>

    <!-- Main App -->
    <div id="main-app" class="hidden">
        <!-- Landing Page -->
        <div id="landing-page">
            <section class="hero">
                <img src="https://images.unsplash.com/photo-1747499967281-c0c5eec9933c?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHNlYXJjaHwxfHxzbWFydCUyMGNpdHklMjBza3lsaW5lJTIwbmlnaHQlMjBsaWdodHN8ZW58MXx8fHwxNzU5Mjk4MTI5fDA&ixlib=rb-4.1.0&q=80&w=1080" alt="Smart city" class="hero-bg">
                <div class="hero-overlay"></div>
                
                <nav class="nav">
                    <div class="nav-container">
                        <div class="nav-brand">
                            <div class="brand-icon">
                                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20V10"/>
                                    <path d="M18 20V4"/>
                                    <path d="M6 20v-4"/>
                                </svg>
                            </div>
                            <div>
                                <h1 style="font-size: 1.25rem;">Urban Intelligence</h1>
                                <p style="font-size: 0.75rem; color: #bfdbfe;">Smart Cities Platform</p>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 1rem;">
                            <button class="btn btn-ghost" onclick="openAuthModal()">Sign In</button>
                            <button class="btn btn-primary" onclick="openAuthModal()">Get Started</button>
                        </div>
                    </div>
                </nav>

                <div class="hero-content">
                    <h1 class="hero-title">
                        Intelligent Cities, 
                        <span class="gradient-text">Safer Communities</span>
                    </h1>
                    
                    <p class="hero-description">
                        Real-time urban intelligence platform combining public safety monitoring, 
                        traffic analysis, and AI-powered insights for smarter city management.
                    </p>

                    <div class="hero-buttons">
                        <button class="btn btn-primary" style="padding: 1rem 2rem; font-size: 1.125rem;" onclick="openAuthModal()">
                            Start Monitoring
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M5 12h14"/>
                                <path d="m12 5 7 7-7 7"/>
                            </svg>
                        </button>
                        
                        <button class="btn btn-outline" style="padding: 1rem 2rem; font-size: 1.125rem;">
                            Watch Demo
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/>
                                <circle cx="12" cy="12" r="3"/>
                            </svg>
                        </button>
                    </div>

                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20"/>
                                </svg>
                            </div>
                            <div class="stat-value">150+</div>
                            <div style="color: #bfdbfe;">Cities Monitored</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                                </svg>
                            </div>
                            <div class="stat-value">2.3K</div>
                            <div style="color: #bfdbfe;">Safety Incidents Prevented</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-icon">
                                <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/>
                                    <circle cx="9" cy="7" r="4"/>
                                    <path d="M22 21v-2a4 4 0 0 0-3-3.87"/>
                                    <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                                </svg>
                            </div>
                            <div class="stat-value">5.2M</div>
                            <div style="color: #bfdbfe;">Citizens Protected</div>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <!-- Dashboard -->
        <div id="dashboard" class="dashboard hidden">
            <header class="dashboard-header">
                <div class="header-container">
                    <div class="nav-brand">
                        <div class="brand-icon">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 20V10"/>
                                <path d="M18 20V4"/>
                                <path d="M6 20v-4"/>
                            </svg>
                        </div>
                        <div>
                            <h1 style="font-size: 1.25rem;">Urban Intelligence</h1>
                            <p style="font-size: 0.75rem; color: var(--text-light);">Smart Cities Platform</p>
                        </div>
                    </div>
                    
                    <div class="header-actions">
                        <button class="btn" style="padding: 0.5rem; position: relative;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"/>
                                <path d="M13.73 21a2 2 0 0 1-3.46 0"/>
                            </svg>
                            <span class="notification-badge">3</span>
                        </button>
                        
                        <div class="user-menu">
                            <div class="user-avatar" id="user-avatar">U</div>
                            <div>
                                <div style="font-weight: 500; font-size: 0.875rem;" id="user-name">User</div>
                                <div style="font-size: 0.75rem; color: var(--text-light);" id="user-email">user@example.com</div>
                            </div>
                        </div>
                        
                        <button class="btn btn-ghost" onclick="signOut()">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"/>
                                <polyline points="16,17 21,12 16,7"/>
                                <line x1="21" y1="12" x2="9" y2="12"/>
                            </svg>
                            Sign Out
                        </button>
                    </div>
                </div>
            </header>

            <main class="dashboard-main">
                <div class="tab-nav">
                    <button class="tab-btn active" data-tab="overview">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M12 20V10"/>
                            <path d="M18 20V4"/>
                            <path d="M6 20v-4"/>
                        </svg>
                        <span>City Overview</span>
                    </button>
                    <button class="tab-btn" data-tab="safety">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                        </svg>
                        <span>Public Safety</span>
                    </button>
                    <button class="tab-btn" data-tab="chat">
                        <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                        </svg>
                        <span>AI Assistant</span>
                    </button>
                </div>

                <!-- Overview Tab -->
                <div id="overview-tab" class="tab-content active">
                    <div class="panel-header">
                        <div>
                            <h2>City Overview</h2>
                            <p style="color: var(--text-light);">Real-time metrics and system status</p>
                        </div>
                        <div class="live-indicator">
                            <div class="pulse-dot"></div>
                            <span>Live</span>
                        </div>
                    </div>
                    
                    <div class="metrics-grid" id="metrics-grid">
                        <!-- Metrics will be populated by JavaScript -->
                    </div>
                </div>

                <!-- Safety Tab -->
                <div id="safety-tab" class="tab-content">
                    <div class="panel-header">
                        <div>
                            <h2 style="display: flex; align-items: center; gap: 0.5rem;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z"/>
                                </svg>
                                Public Safety Monitor
                            </h2>
                            <p style="color: var(--text-light);">Real-time anomaly detection and emergency response</p>
                        </div>
                        <div class="live-indicator">
                            <div class="pulse-dot red"></div>
                            <span>Live Monitoring</span>
                        </div>
                    </div>
                    
                    <div class="safety-grid">
                        <div class="safety-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z"/>
                                        <line x1="12" y1="9" x2="12" y2="13"/>
                                        <line x1="12" y1="17" x2="12.01" y2="17"/>
                                    </svg>
                                    Active Alerts
                                </div>
                                <span class="alert-count">3</span>
                            </div>
                            <div class="card-content" id="alerts-list">
                                <!-- Alerts populated by JS -->
                            </div>
                        </div>
                        
                        <div class="safety-card">
                            <div class="card-header">
                                <div class="card-title">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                                        <circle cx="12" cy="13" r="3"/>
                                    </svg>
                                    Sensor Network
                                </div>
                            </div>
                            <div class="card-content">
                                <div class="city-view">
                                    <img src="https://images.unsplash.com/photo-1590560711594-85381f33d036?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3w3Nzg4Nzd8MHwxfHx1cmJhbiUyMHRyYWZmaWMlMjBtb25pdG9yaW5nJTIwc3VydmVpbGxhbmNlfGVufDF8fHx8MTc1OTI5ODEzMnww&ixlib=rb-4.1.0&q=80&w=1080" alt="City monitoring" class="city-image">
                                    <div class="city-overlay">
                                        <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                            <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/>
                                            <circle cx="12" cy="13" r="3"/>
                                        </svg>
                                        <p style="margin-top: 0.5rem;">Live Camera Feed</p>
                                    </div>
                                </div>
                                
                                <div id="sensors-list">
                                    <!-- Sensors populated by JS -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Chat Tab -->
                <div id="chat-tab" class="tab-content">
                    <div class="chat-container">
                        <div class="chat-header">
                            <h2 style="display: flex; align-items: center; gap: 0.5rem;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>
                                </svg>
                                Urban Planning Assistant
                            </h2>
                            <div class="live-indicator">
                                <div class="pulse-dot"></div>
                            </div>
                        </div>
                        
                        <div class="quick-questions">
                            <p style="font-size: 0.875rem; color: var(--text-light); margin-bottom: 0.5rem;">Quick questions:</p>
                            <div class="questions-list">
                                <button class="question-btn" onclick="askQuestion('What is the traffic situation downtown right now?')">Traffic downtown?</button>
                                <button class="question-btn" onclick="askQuestion('Show me air quality trends for this week')">Air quality?</button>
                                <button class="question-btn" onclick="askQuestion('Which areas need more public transport?')">Public transport?</button>
                            </div>
                        </div>
                        
                        <div class="chat-messages" id="chat-messages">
                            <div class="message assistant">
                                <div class="message-avatar">
                                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                        <path d="M12 8V4H8"/>
                                        <rect width="16" height="12" x="4" y="8" rx="2"/>
                                        <path d="M2 14h2"/>
                                        <path d="M20 14h2"/>
                                        <path d="M15 13v2"/>
                                        <path d="M9 13v2"/>
                                    </svg>
                                </div>
                                <div class="message-content">
                                    <div class="message-bubble">
                                        <p>Hello! I'm your Urban Planning AI Assistant. I can help you analyze city data, traffic patterns, and provide insights for urban development. What would you like to know?</p>
                                    </div>
                                    <div class="message-time">Just now</div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="chat-input">
                            <input type="text" id="chat-input-field" placeholder="Ask about traffic, air quality, public transport...">
                            <button class="btn btn-primary" onclick="sendChatMessage()">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M22 2 11 13"/>
                                    <polygon points="22,2 15,22 11,13 2,9"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <!-- Auth Modal -->
    <div id="auth-modal" class="modal">
        <div class="modal-overlay" onclick="closeAuthModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <div class="auth-icon">
                    <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                        <circle cx="12" cy="7" r="4"/>
                    </svg>
                </div>
                <h2 id="auth-title">Welcome Back</h2>
                <p id="auth-description" style="color: var(--text-light);">Sign in to continue monitoring your city</p>
            </div>
            
            <div class="modal-body">
                <div class="auth-tabs">
                    <button class="auth-tab active" onclick="switchAuthTab('signin')">Sign In</button>
                    <button class="auth-tab" onclick="switchAuthTab('signup')">Sign Up</button>
                </div>
                
                <form id="auth-form">
                    <div class="form-group hidden" id="name-group">
                        <label for="name">Full Name</label>
                        <div class="input-with-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                                <circle cx="12" cy="7" r="4"/>
                            </svg>
                            <input type="text" id="name" name="name" placeholder="Enter your full name">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <div class="input-with-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/>
                                <polyline points="22,6 12,13 2,6"/>
                            </svg>
                            <input type="email" id="email" name="email" placeholder="Enter your email" required>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">Password</label>
                        <div class="input-with-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                            <input type="password" id="password" name="password" placeholder="Enter your password" required>
                        </div>
                    </div>
                    
                    <div class="form-group hidden" id="confirm-password-group">
                        <label for="confirm-password">Confirm Password</label>
                        <div class="input-with-icon">
                            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect width="18" height="11" x="3" y="11" rx="2" ry="2"/>
                                <path d="M7 11V7a5 5 0 0 1 10 0v4"/>
                            </svg>
                            <input type="password" id="confirm-password" name="confirm-password" placeholder="Confirm your password">
                        </div>
                    </div>
                    
                    <button type="submit" class="btn btn-primary w-full">
                        <span id="auth-button-text">Sign In</span>
                    </button>
                    
                    <div class="auth-switch">
                        <button type="button" onclick="toggleAuthMode()" id="auth-switch-btn">
                            Don't have an account? Sign up
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="script2.js"></script>
</body>
</html>